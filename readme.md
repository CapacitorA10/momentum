# 코스피 모멘텀 투자 전략 백테스트

이 프로젝트는 Ronald W. Liem(2011)의 연구를 바탕으로 한 모멘텀 투자 전략을 코스피(KOSPI) 시장에 적용하여 백테스트하는 파이썬 기반의 프레임워크입니다. 매출 성장률, 영업이익 성장률, ROE, RSI 등의 펀더멘털 및 기술적 지표를 활용하여 우수 종목을 선정하고, 마코위츠 최적화를 통해 포트폴리오를 구성합니다.

## 목차

- [프로젝트 개요](#프로젝트-개요)
- [필요 라이브러리 설치](#필요-라이브러리-설치)
- [프로젝트 구조](#프로젝트-구조)
- [사용 방법](#사용-방법)
- [데이터 준비](#데이터-준비)
- [결과 확인](#결과-확인)
- [주의사항](#주의사항)
- [라이선스](#라이선스)

## 프로젝트 개요

- **목표**: 코스피 200 지수 구성 종목을 대상으로 모멘텀 투자 전략을 백테스트하여 전략의 유효성을 검증
- **전략 주요 요소**:
  - **팩터**: 매출 성장률, 영업이익 성장률, ROE, RSI
  - **포트폴리오 구성**: 상위 11개 종목 선정, 마코위츠 최적화 적용
  - **리밸런싱**: 분기별 1회

## 필요 라이브러리 설치

프로젝트를 실행하기 위해 필요한 Python 라이브러리를 설치해야 합니다. 두 가지 방법 중 하나를 선택하여 설치할 수 있습니다.

### 방법 1: `install_requirements.sh` 스크립트 사용

1. `install_requirements.sh` 파일을 프로젝트 루트에 생성합니다.
2. 아래 내용을 복사하여 붙여넣기 합니다.

    ```bash
    #!/bin/bash

    # Python 패키지 설치
    echo "필요한 Python 라이브러리를 설치 중입니다..."

    # pip 최신 버전으로 업그레이드
    pip install --upgrade pip

    # 필수 라이브러리 설치
    pip install pandas numpy scipy yfinance cvxpy matplotlib

    echo "모든 필수 라이브러리가 성공적으로 설치되었습니다!"
    ```

3. 터미널에서 스크립트를 실행합니다.

    ```bash
    bash install_requirements.sh
    ```

### 방법 2: `requirements.txt` 파일 사용

1. `requirements.txt` 파일을 프로젝트 루트에 생성합니다.
2. 아래 내용을 추가합니다.

    ```text
    pandas>=1.3.0
    numpy>=1.21.0
    scipy>=1.7.0
    yfinance>=0.2.0
    cvxpy>=1.1.15
    matplotlib>=3.4.0
    ```

3. 터미널에서 다음 명령어를 실행하여 라이브러리를 설치합니다.

    ```bash
    pip install -r requirements.txt
    ```


## 사용 방법

1. **데이터 준비**:
   - `data/kospi200_list.csv` 파일에 코스피200 종목의 티커 정보가 포함되어 있어야 합니다.
   - `data/prices/` 폴더에 각 종목의 일별 주가 및 거래량 데이터가 CSV 형식으로 저장되어 있어야 합니다.
   - `data/fundamentals/` 폴더에 각 종목의 분기별 재무 데이터가 CSV 형식으로 저장되어 있어야 합니다. 파일명은 `{티커}_fundamentals.csv` 형식이어야 합니다.

2. **설정 파일 수정**:
   - `config.py` 파일에서 시작일, 종료일, 리밸런싱 주기 등 전략에 필요한 설정을 확인하고 필요에 따라 수정합니다.

3. **백테스트 실행**:
   - 터미널에서 다음 명령어를 실행합니다.

     ```bash
     python main.py
     ```

## 데이터 준비

백테스트를 위해서는 다음과 같은 데이터가 필요합니다.

- **코스피200 종목 리스트**: `data/kospi200_list.csv` 파일에 종목 티커가 포함되어 있어야 합니다.
- **주가 데이터**: `data/prices/` 폴더에 각 종목의 일별 주가 데이터가 CSV 파일로 저장되어 있어야 합니다.
- **재무 데이터**: `data/fundamentals/` 폴더에 각 종목의 분기별 재무 데이터가 `{티커}_fundamentals.csv` 형식으로 저장되어 있어야 합니다.

데이터 형식 및 예시는 다음과 같습니다.

### `kospi200_list.csv` 예시

| ticker | name     |
|--------|----------|
| 005930 | 삼성전자 |
| 000660 | SK하이닉스 |
| ...    | ...      |

### 재무 데이터 CSV 예시 (`005930_fundamentals.csv`)

| date       | revenue | op_income | equity | net_income |
|------------|---------|-----------|--------|------------|
| 2021-03-31 | 1000    | 200       | 500    | 150        |
| 2021-06-30 | 1100    | 220       | 510    | 160        |
| ...        | ...     | ...       | ...    | ...        |

## 결과 확인

백테스트가 완료되면 터미널에 다음과 같은 결과가 출력됩니다.

Final Portfolio Value: 1500000000 Total Return: 0.5 Annualized Return: 0.10


- **Final Portfolio Value**: 최종 포트폴리오 가치
- **Total Return**: 전체 기간 동안의 총 수익률
- **Annualized Return**: 연환산 수익률

추가적으로 `main.py` 내에서 결과를 시각화하거나 더 상세한 분석을 진행할 수 있습니다.

## 주의사항

- **데이터 정확성**: 백테스트의 정확성은 입력 데이터의 품질에 크게 의존합니다. 데이터가 정확하고 최신인지 확인하세요.
- **거래 비용**: 현재 백테스트에는 거래 비용이 반영되어 있지 않습니다. 실제 투자 시에는 거래 비용을 고려해야 합니다.
- **슬리피지**: 시장 유동성에 따라 슬리피지가 발생할 수 있으며, 이는 백테스트 결과에 영향을 미칠 수 있습니다.
- **최적화 파라미터**: 마코위츠 최적화의 람다 값 등 파라미터는 전략에 따라 조정이 필요할 수 있습니다.

## 라이선스

이 프로젝트는 [MIT 라이선스](LICENSE)를 따릅니다. 자유롭게 사용, 수정, 배포할 수 있습니다.

---

프로젝트에 대한 질문이나 기여는 [Issues](https://github.com/your-repo/issues) 페이지를 통해 문의해 주세요. 감사합니다!
